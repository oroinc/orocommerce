include:
    - '@OroCustomerBundle/Tests/Behat/Features/Fixtures/CustomerUserFixture.yml'
    - '@OroProductBundle:ConfigurableAttributeFamily.yml'

Oro\Bundle\ProductBundle\Entity\ProductUnitPrecision:
  precision1:
    unit: '@each'
    precision: '1'

Oro\Bundle\OrganizationBundle\Entity\BusinessUnit:
  businessUnit:
    name: Common Business Unit
    organization: '@organization'

Oro\Bundle\ProductBundle\Entity\ProductName:
  locvalue:
    string: 'Product1'

Oro\Bundle\LocaleBundle\Entity\LocalizedFallbackValue:
  localValueProductSlug:
    string: 'acme'
  localValueDefaultWebCatalog:
    string: 'Default Web Catalog'
  localValueNewCategorySlug:
    string: 'new-category'

Oro\Bundle\CatalogBundle\Entity\CategoryTitle:
  localNewCategory:
    string: 'NewCategory'
  localValueNewCategory:
    string: 'MyCategory'

Oro\Bundle\ProductBundle\Entity\Product:
  product1:
    sku: 'SKU1'
    type: 'simple'
    organization: '@organization'
    owner: '@businessUnit'
    attributeFamily: '@defaultProductFamily'
    __calls:
        - addName: ['@locvalue']
        - addSlugPrototype: ['@localValueProductSlug']
        - addUnitPrecision: ['@precision1']
        - setPrimaryUnitPrecision: ['@precision1']
    inventoryStatus: '@enumInventoryStatuses'
    status: 'enabled'

Doctrine\Common\Collections\ArrayCollection:
  products:
    __construct: [['@product1']]

Oro\Bundle\CatalogBundle\Entity\Category:
  categoryLightingProducts:
    organization: '@organization'
    __calls:
        - addTitle: ['@localNewCategory']
        - setParentCategory: ['@root_category']
        - setProducts: ['@products']

Oro\Bundle\WebCatalogBundle\Entity\WebCatalog:
  webCatalog:
    name: 'Default Web Catalog'
    organization: '@organization'
    owner: '@business_unit'

Oro\Bundle\WebCatalogBundle\Entity\ContentVariant:
  systemPageVariant:
    scopes: [ '@default_scope' ]
    type: 'system_page'
    systemPageRoute: 'oro_customer_frontend_customer_user_index'
  categoryPageVariant:
    scopes: [ '@default_scope' ]
    type: 'category_page'
    node: '@nodeNewCategory'
    categoryPageCategory: '@categoryLightingProducts'

Oro\Bundle\WebCatalogBundle\Entity\ContentNode:
  nodeDefaultWebCatalog:
    __calls:
        - addTitle: ['@localValueDefaultWebCatalog']
        - addContentVariant: ['@systemPageVariant']
        - addScope: ['@default_scope']
    webCatalog: '@webCatalog'

  nodeNewCategory:
    __calls:
        - addTitle: ['@localValueNewCategory']
        - addSlugPrototype: ['@localValueNewCategorySlug']
        - addContentVariant: ['@categoryPageVariant']
        - addScope: ['@default_scope']
    parentNode: '@nodeDefaultWebCatalog'
    webCatalog: '@webCatalog'
