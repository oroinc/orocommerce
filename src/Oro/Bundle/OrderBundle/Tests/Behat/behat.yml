oro_behat_extension:
  elements:
    BackendOrder:
      class: Oro\Bundle\OrderBundle\Tests\Behat\Element\BackendOrder
      selector: 'div.layout-content'

    CollectionTableRow:
      selector: 'tbody tr'
      class: Oro\Bundle\OrderBundle\Tests\Behat\Element\CollectionTableRow

    Order Billing Address Select:
      selector: '[name="oro_order_type[billingAddress][customerAddress]"]'

    Order Shipping Address Select:
      selector: '[name="oro_order_type[shippingAddress][customerAddress]"]'

    FrontendOrderLineItem:
      class: Oro\Bundle\OrderBundle\Tests\Behat\Element\OrderLineItem
      selector: 'tbody.grid-body tr.grid-row'

    Frontend Order Line Item Product View Link:
      selector: 'h3.oro-grid-table__title a'

    Frontend Order Line Item Product Attribute:
      selector: 'td.grid-body-cell-product > div'

    BackendOrderLineItem:
      class: Oro\Bundle\OrderBundle\Tests\Behat\Element\BackendOrderLineItem
      selector: 'tbody > tr.order-line-item'

    BackendOrderLineItemsTable:
      class: Oro\Bundle\TestFrameworkBundle\Behat\Element\Table
      selector: 'table.order-line-items-table'

    Backend Order First Line Item Taxes Items Table:
      class: Oro\Bundle\TestFrameworkBundle\Behat\Element\Table
      selector: 'tr.order-line-item:first-child div.line-item-taxes-items table.tax-result-grid'

    Backend Order Second Line Item Taxes Items Table:
      class: Oro\Bundle\TestFrameworkBundle\Behat\Element\Table
      selector: 'tr.order-line-item:nth-child(2) div.line-item-taxes-items table.tax-result-grid'

    Backend Order First Line Item Taxes Results Table:
      class: Oro\Bundle\TestFrameworkBundle\Behat\Element\Table
      selector: 'tr.order-line-item:first-child div.line-item-taxes-results table.tax-result-grid'

    Backend Order Second Line Item Taxes Results Table:
      class: Oro\Bundle\TestFrameworkBundle\Behat\Element\Table
      selector: 'tr.order-line-item:nth-child(2) div.line-item-taxes-results table.tax-result-grid'

    Backend Order First Line Item Discounts Items Table:
      class: Oro\Bundle\TestFrameworkBundle\Behat\Element\Table
      selector: 'tr.order-line-item:first-child table.applied_discounts-result-grid'

    Backend Order Add Product Button:
      selector: 'div.order-line-items button.add-list-item'

    BackendOrderLineItems:
      class: Oro\Bundle\OrderBundle\Tests\Behat\Element\BackendOrderLineItems
      selector: 'table.order-line-items-table'

    BackendOrderSubtotals:
      class: Oro\Bundle\OrderBundle\Tests\Behat\Element\BackendOrderSubtotals
      selector:
          type: xpath
          locator: '//div[@data-totals-container]'

    Backend View Order Edit Action Button: # Unique element of the edit button (action button) on Order view page.
      selector:
        type: xpath
        locator: './/a[contains(@class, "action-button") and contains(normalize-space(string(.)), "Edit")]'

    Order:
      class: Oro\Bundle\OrderBundle\Tests\Behat\Element\Order
      selector: '.page-content'

    Order Line Items Table:
      class: Oro\Bundle\OrderBundle\Tests\Behat\Element\ProductTable
      selector: 'table.grid-main-container'

    OrderLineItemProductSku:
      selector: 'div:contains("Item #:") > span'

    OrderTitle:
      selector: 'h1.page-title .page-title__text'

    Order Payment Transaction Grid:
      selector: "div[id^='grid-order-payment-transactions-grid']"
      class: Oro\Bundle\DataGridBundle\Tests\Behat\Element\Grid

    First Sub Order Payment Transaction Grid:
      selector: "div[data-page-component-name='order-payment-transactions-grid:2']"
      class: Oro\Bundle\DataGridBundle\Tests\Behat\Element\Grid

    Second Sub Order Payment Transaction Grid:
      selector: "div[data-page-component-name='order-payment-transactions-grid:3']"
      class: Oro\Bundle\DataGridBundle\Tests\Behat\Element\Grid

    Calculate Shipping Button:
      selector: 'span[id="possible_shipping_methods_btn"]'

    Order Flat Rate:
      selector:
        locator: '//label[contains(text(),"Flat Rate")]'
        type: xpath

    Flat Rate:
      selector: '[id*="flat_rate"]'

    Order DPD Classic:
      selector:
        locator: '//td[contains(text(),"DPD Classic")]/../td/label[contains(text(),"DPD")]'
        type: xpath

    Order Form:
      selector: '[id^="oro_order_type"]'
      class: Oro\Bundle\TestFrameworkBundle\Behat\Element\Form
      options:
        mapping:
          Currency:
            type: xpath
            locator: '//select[@name="oro_order_type[currency]"]'
            element: Select2Choices
          Billing Address:
            locator: '//h4[text()="Billing Address"]/..//div[contains(@id,"s2id_oro_order_type")]/input'
            type: xpath
          Billing Address Country:
            locator: '//h4[text()="Billing Address"]/..//div[contains(@id,"s2id_oro_order_type_billingAddress_country-uid")]/input'
            type: xpath
          Billing Address State:
            locator: '//h4[text()="Billing Address"]/..//div[contains(@id,"s2id_oro_order_type_billingAddress_region-uid")]/input'
            type: xpath
          Billing Address Label: 'oro_order_type[billingAddress][label]'
          Billing Address First name: 'oro_order_type[billingAddress][firstName]'
          Billing Address Last name: 'oro_order_type[billingAddress][lastName]'
          Billing Address Organization: 'oro_order_type[billingAddress][organization]'
          Billing Address Street: 'oro_order_type[billingAddress][street]'
          Billing Address City: 'oro_order_type[billingAddress][city]'
          Billing Address Postal Code: 'oro_order_type[billingAddress][postalCode]'
          Shipping Address:
            locator: '//h4[text()="Shipping Address"]/..//div[contains(@id,"s2id_oro_order_type")]/input'
            type: xpath
          Shipping Address Country:
            locator: '//h4[text()="Shipping Address"]/..//div[contains(@id,"s2id_oro_order_type_shippingAddress_country-uid")]/input'
            type: xpath
          Shipping Address State:
            locator: '//h4[text()="Shipping Address"]/..//div[contains(@id,"s2id_oro_order_type_shippingAddress_region-uid")]/input'
            type: xpath
          Shipping Address First name: 'oro_order_type[shippingAddress][firstName]'
          Shipping Address Last name: 'oro_order_type[shippingAddress][lastName]'
          Shipping Address Organization: 'oro_order_type[shippingAddress][organization]'
          Shipping Address Street: 'oro_order_type[shippingAddress][street]'
          Shipping Address City: 'oro_order_type[shippingAddress][city]'
          Shipping Address Postal Code: 'oro_order_type[shippingAddress][postalCode]'
          Product:
            locator: '//div[contains(@id,"s2id_oro_order_type_lineItems_0_product-uid")]/input'
            type: xpath
          Quantity:
            locator: '//input[@name="oro_order_type[lineItems][0][quantity]"]'
            type: xpath
          Price:
            locator: '//input[@name="oro_order_type[lineItems][0][price][value]"]'
            type: xpath
          Product2:
            locator: '//div[contains(@id,"s2id_oro_order_type_lineItems_1_product-uid")]/input'
            type: xpath
          Quantity2:
            locator: '//input[@name="oro_order_type[lineItems][1][quantity]"]'
            type: xpath
          Price2:
            locator: '//input[@name="oro_order_type[lineItems][1][price][value]"]'
            type: xpath
          FreeProduct3:
            locator: '//input[contains(@id,"oro_order_type_lineItems_2_freeFormProduct-uid")]'
            type: xpath
          Quantity3:
            locator: '//input[@name="oro_order_type[lineItems][2][quantity]"]'
            type: xpath
          Price3:
            locator: '//input[@name="oro_order_type[lineItems][2][price][value]"]'
            type: xpath
          PO Number:
            locator: '//input[contains(@id,"oro_order_type_poNumber-uid")]'
            type: xpath
          Do Not Ship Later Than:
            type: 'css'
            locator: 'input[name^="oro_order_type_shipUntil"]'

    Order Form Line Item 1 Offer 1:
      selector: '[name="oro_order_type[lineItems][0][offers]"]'

    Order Form Line Item 2 Offer 1:
      selector: '[name="oro_order_type[lineItems][1][offers]"]'

    First Product Quantity Field In Order:
      selector:
        locator: '//input[@name="oro_order_type[lineItems][0][quantity]"]'
        type: xpath

    Order Billing Address State Selector:
      selector:
        locator: '//div[contains(@id,"s2id_oro_order_type_billingAddress_region-uid")]'
        type: xpath

    Order Billing Address State Text Field:
      selector:
        locator: '//input[contains(@id,"oro_order_type_billingAddress_region_text-uid")]'
        type: xpath

    Purchase History Settings Form:
      selector: 'form[name="purchase_history"]'
      class: Oro\Bundle\TestFrameworkBundle\Behat\Element\Form
      options:
        mapping:
          Enable Purchase History: 'purchase_history[oro_order___enable_purchase_history][value]'
          Enable Purchase History Use Default: 'purchase_history[oro_order___enable_purchase_history][use_parent_scope_value]'
          Purchased Within: 'purchase_history[oro_order___order_previously_purchased_period][value]'
          Purchased Within Use Default: 'purchase_history[oro_order___order_previously_purchased_period][use_parent_scope_value]'

    Discounts:
      class: Oro\Bundle\OrderBundle\Tests\Behat\Element\CollectionTable
      selector: 'div.oro-discount-collection > table'

    Overridden Shipping Cost Amount:
      selector:
        locator: '//input[contains(@id,"oro_order_type_overriddenShippingCostAmount_value-uid")]'
        type: xpath

    Order Discount Form:
      selector:
        locator: '//div[@class="discount-popup"]/ancestor::form'
        type: xpath
      class: Oro\Bundle\TestFrameworkBundle\Behat\Element\Form
      options:
        mapping:
          Type:
            locator: '[data-role=type]'
            type: 'css'

    DiscountValue:
      selector: 'input[name="oro_action_operation[orderDiscount][value]"]'

    DiscountDescription:
      selector: 'input[name="oro_action_operation[orderDiscount][description]"]'

    Discount Popup:
      selector:
        locator: '//div[@class="ui-dialog"]'
        type: xpath

    Discount Popup Cancel Button:
      selector:
        locator: '//div[contains(@class,"widget-actions-section")]/..//button[contains(text(),"Cancel")]'
        type: xpath

    Shopping list Orders Grid:
      selector: 'div[data-page-component-name="shopping-list-orders-grid"]'
      class: Oro\Bundle\DataGridBundle\Tests\Behat\Element\Grid

    Customer User Sales Orders Grid:
      selector: 'div[data-page-component-name="customer-user-orders-grid"]'
      class: Oro\Bundle\DataGridBundle\Tests\Behat\Element\Grid

    Sales Orders Volume:
      selector:
        type: 'xpath'
        locator: '//div[@title="Sales Orders Volume"]/../..'

    Sales Orders Volume Actions:
      selector:
        type: 'xpath'
        locator: '//div[@title="Sales Orders Volume"]/..//button[contains(@id,"dashboard-action")]'

    Sales Orders Volume Widget Configuration Form:
      selector: 'form[name="sales_orders_volume"]'
      class: Oro\Bundle\TestFrameworkBundle\Behat\Element\Form
      options:
        mapping:
          Date Range 1 Type: 'sales_orders_volume[dateRange1][type]'
          Date Range 1 Start Date: 'sales_orders_volume[dateRange1][value][start]'
          Date Range 1 End Date: 'sales_orders_volume[dateRange1][value][end]'
          Date Range 2 Type: 'sales_orders_volume[dateRange2][type]'
          Date Range 2 Start Date: 'sales_orders_volume[dateRange2][value][start]'
          Date Range 3 Type: 'sales_orders_volume[dateRange3][type]'
          Date Range 3 Start Date: 'sales_orders_volume[dateRange3][value][start]'
          Included Order Statuses:
            type: xpath
            locator: '//div[contains(@id,"s2id_sales_orders_volume_includedOrderStatuses-uid")]//input[contains(@class, "select2-input")]'
            element: Select2Entities

    Date Range 2 Type Readonly:
      selector:
        type: xpath
        locator: '//select[contains(@name, "[dateRange2][type]")]/parent::div[contains(@class, "readonly")]'

    Date Range 3 Type Readonly:
      selector:
        type: xpath
        locator: '//select[contains(@name, "[dateRange3][type]")]/parent::div[contains(@class, "readonly")]'

    Sales Orders Number:
      selector:
        type: 'xpath'
        locator: '//div[@title="Sales Orders Number"]/../..'

    Sales Orders Number Actions:
      selector:
        type: 'xpath'
        locator: '//div[@title="Sales Orders Number"]/..//button[contains(@id,"dashboard-action")]'

    Sales Orders Number Widget Configuration Form:
      selector: 'form[name="sales_orders_number"]'
      class: Oro\Bundle\TestFrameworkBundle\Behat\Element\Form
      options:
        mapping:
          Date Range 1 Type: 'sales_orders_number[dateRange1][type]'
          Date Range 1 Start Date: 'sales_orders_number[dateRange1][value][start]'
          Date Range 1 End Date: 'sales_orders_number[dateRange1][value][end]'
          Date Range 2 Type: 'sales_orders_number[dateRange2][type]'
          Date Range 2 Start Date: 'sales_orders_number[dateRange2][value][start]'
          Date Range 3 Type: 'sales_orders_number[dateRange3][type]'
          Date Range 3 Start Date: 'sales_orders_number[dateRange3][value][start]'
          Included Order Statuses:
            type: xpath
            locator: '//div[contains(@id,"s2id_sales_orders_number_includedOrderStatuses-uid")]//input[contains(@class, "select2-input")]'
            element: Select2Entities

  pages:
    OrderFrontendView:
      class: Oro\Bundle\OrderBundle\Tests\Behat\Page\OrderFrontendViewPage
      route: oro_order_frontend_view

  suites:
    OroOrderBundle:
      contexts:
        - Oro\Bundle\TestFrameworkBundle\Tests\Behat\Context\OroMainContext
        - Oro\Bundle\ApplicationBundle\Tests\Behat\Context\CommerceMainContext
        - Oro\Bundle\FormBundle\Tests\Behat\Context\FeatureContext
        - Oro\Bundle\ConfigBundle\Tests\Behat\Context\FeatureContext
        - Oro\Bundle\UserBundle\Tests\Behat\Context\FeatureContext
        - Oro\Bundle\OrderBundle\Tests\Behat\Context\FeatureContext
        - Oro\Bundle\DataGridBundle\Tests\Behat\Context\GridContext
        - Oro\Bundle\FormBundle\Tests\Behat\Context\FormContext
        - Oro\Bundle\CustomerBundle\Tests\Behat\Context\CustomerUserContext
        - Oro\Bundle\CheckoutBundle\Tests\Behat\Context\FeatureContext
        - Oro\Bundle\CustomerBundle\Tests\Behat\Context\ACLContext
        - Oro\Bundle\ActionBundle\Tests\Behat\Context\OroActionContext
        - Oro\Bundle\OrderBundle\Tests\Behat\Context\OrderContext
        - Oro\Bundle\ReportBundle\Tests\Behat\Context\FeatureContext
        - Oro\Bundle\NavigationBundle\Tests\Behat\Context\FeatureContext
        - Oro\Bundle\NavigationBundle\Tests\Behat\Context\TabContext
        - Oro\Bundle\ShippingBundle\Tests\Behat\Context\FeatureContext
        - Oro\Bundle\ShoppingListBundle\Tests\Behat\Context\ShoppingListContext
        - Oro\Bundle\ProductBundle\Tests\Behat\Context\FeatureContext
        - Oro\Bundle\AttachmentBundle\Tests\Behat\Context\AttachmentImageContext
        - Oro\Bundle\ShoppingListBundle\Tests\Behat\Context\FeatureContext
        - Oro\Bundle\PromotionBundle\Tests\Behat\Context\PromotionContext
        - Oro\Bundle\TaxBundle\Tests\Behat\Context\TaxContext
        - Oro\Bundle\LocaleBundle\Tests\Behat\Context\LocalizationContext
        - Oro\Bundle\FrontendLocalizationBundle\Tests\Behat\Context\LocalizationSwitcherContext
        - Oro\Bundle\QueryDesignerBundle\Tests\Behat\Context\QueryDesignerContext
        - Oro\Bundle\ProductBundle\Tests\Behat\Context\QuickOrderFormContext
        - Oro\Bundle\EmailBundle\Tests\Behat\Context\EmailContext
        - Oro\Bundle\FilterBundle\Tests\Behat\Context\FilterContext
        - Oro\Bundle\DashboardBundle\Tests\Behat\Context\FeatureContext
      paths:
        - '@OroOrderBundle/Tests/Behat/Features'
