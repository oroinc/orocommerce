'change visibility to all to parent category':
    categoryReference: category_1
    visibility:
        type: all
        visibility: parent_category
    expectedData:
        hiddenCategories:
            - category_1_5_6
            - category_1_5_6_7
        hiddenCategoriesByAccountGroups:
            account_group.group1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
            account_group.group3:
                - category_1_2_3
                - category_1_2_3_4
        hiddenCategoriesByAccounts:
            account.level_1:
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.2.1:
                - category_1_5_6_7
            account.level_1.3.1:
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.3.1.1:
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
        hiddenProducts:
            - product.4
            - product.7
            - product.8
        hiddenProductsByAccountGroups:
            account_group.group2:
                - product.7
                - product.8
            account_group.group3:
                - product.3
                - product.6
        hiddenProductsByAccounts:
            account.level_1.1:
                - product.1
                - product.2
                - product.3
                - product.6
                - product.4
                - product.7
                - product.8
            account.level_1.2:
                - product.7
                - product.8
            account.level_1.2.1:
                - product.7
                - product.8
            account.level_1.3.1:
                - product.3
                - product.6
                - product.4
                - product.7
                - product.8
            account.level_1.3.1.1:
                - product.2
                - product.3
                - product.6
            account.level_1.4:
                - product.3
'change visibility to all to config':
    categoryReference: category_1
    visibility:
        type: all
        visibility: config
    expectedData:
        hiddenCategories:
            - category_1_5_6
            - category_1_5_6_7
        hiddenCategoriesByAccountGroups:
            account_group.group1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
            account_group.group3:
                - category_1_2_3
                - category_1_2_3_4
        hiddenCategoriesByAccounts:
            account.level_1:
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.2.1:
                - category_1_5_6_7
            account.level_1.3.1:
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.3.1.1:
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
        hiddenProducts:
            - product.4
            - product.7
            - product.8
        hiddenProductsByAccountGroups:
            account_group.group2:
                - product.7
                - product.8
            account_group.group3:
                - product.3
                - product.6
        hiddenProductsByAccounts:
            account.level_1.1:
                - product.1
                - product.2
                - product.3
                - product.6
                - product.4
                - product.7
                - product.8
            account.level_1.2:
                - product.7
                - product.8
            account.level_1.2.1:
                - product.7
                - product.8
            account.level_1.3.1:
                - product.3
                - product.6
                - product.4
                - product.7
                - product.8
            account.level_1.3.1.1:
                - product.2
                - product.3
                - product.6
            account.level_1.4:
                - product.3
'change visibility to all to hidden':
    categoryReference: category_1
    visibility:
        type: all
        visibility: hidden
    expectedData:
        hiddenCategories:
            - category_1
            - category_1_2
            - category_1_5
            - category_1_5_6
            - category_1_5_6_7
        hiddenCategoriesByAccountGroups:
            account_group.group1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
                - category_1_5_6
                - category_1_5_6_7
            account_group.group2:
                - category_1_2
            account_group.group3:
                - category_1_2_3
                - category_1_2_3_4
        hiddenCategoriesByAccounts:
            account.level_1:
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
                - category_1_5
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.2.1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
                - category_1_5_6_7
            account.level_1.3.1:
                - category_1_2
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.3.1.1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
                - category_1_5
                - category_1_5_6
            account.level_1.2.1.1:
                - category_1_5
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.4:
                - category_1_2
                - category_1_5
        hiddenProducts:
            - product.1
            - product.2
            - product.5
            - product.4
            - product.7
            - product.8
        hiddenProductsByAccountGroups:
            account_group.group2:
                - product.1
                - product.2
                - product.5
                - product.7
                - product.8
            account_group.group3:
                - product.2
                - product.3
                - product.6
        hiddenProductsByAccounts:
            account.level_1.1:
                - product.1
                - product.2
                - product.3
                - product.6
                - product.5
                - product.4
                - product.7
                - product.8
            account.level_1.2:
                - product.7
                - product.8
            account.level_1.2.1:
                - product.1
                - product.2
                - product.3
                - product.6
                - product.5
                - product.7
                - product.8
            account.level_1.2.1.1:
                - product.1
                - product.2
                - product.5
                - product.4
                - product.7
                - product.8
            account.level_1.3.1:
                - product.2
                - product.3
                - product.6
                - product.4
                - product.7
                - product.8
            account.level_1.3.1.1:
                - product.1
                - product.2
                - product.3
                - product.6
                - product.5
                - product.4
            account.level_1.4:
                - product.2
                - product.3
                - product.5
'change visibility account group to hidden':
    categoryReference: category_1
    visibility:
        type: accountGroup
        accountGroup: account_group.group3
        visibility: hidden
    expectedData:
        hiddenCategories:
            - category_1_5_6
            - category_1_5_6_7
        hiddenCategoriesByAccountGroups:
            account_group.group1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
            account_group.group3:
                - category_1
                - category_1_2_3
                - category_1_2_3_4
                - category_1_5
                - category_1_5_6
                - category_1_5_6_7
        hiddenCategoriesByAccounts:
            account.level_1:
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.2.1:
                - category_1_5_6_7
            account.level_1.3.1:
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.3.1.1:
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
        hiddenProducts:
            - product.4
            - product.7
            - product.8
        hiddenProductsByAccountGroups:
            account_group.group2:
                - product.7
                - product.8
            account_group.group3:
                - product.1
                - product.3
                - product.6
                - product.5
                - product.4
                - product.7
                - product.8
        hiddenProductsByAccounts:
            account.level_1.1:
                - product.1
                - product.2
                - product.3
                - product.6
                - product.4
                - product.7
                - product.8
            account.level_1.2:
                - product.7
                - product.8
            account.level_1.2.1:
                - product.7
                - product.8
            account.level_1.3.1:
                - product.1
                - product.3
                - product.6
                - product.5
                - product.4
                - product.7
                - product.8
            account.level_1.3.1.1:
                - product.2
                - product.3
                - product.6
                - product.7
                - product.8
            account.level_1.4:
                - product.3
                - product.4
'change visibility account group to parent category':
    categoryReference: category_1
    visibility:
        type: accountGroup
        accountGroup: account_group.group2
        visibility: parent_category
    expectedData:
        hiddenCategories:
            - category_1_5_6
            - category_1_5_6_7
        hiddenCategoriesByAccountGroups:
            account_group.group1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
            account_group.group3:
                - category_1_2_3
                - category_1_2_3_4
        hiddenCategoriesByAccounts:
            account.level_1:
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.2.1:
                - category_1_5_6_7
            account.level_1.3.1:
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.3.1.1:
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
        hiddenProducts:
            - product.4
            - product.7
            - product.8
        hiddenProductsByAccountGroups:
            account_group.group2:
                - product.7
                - product.8
            account_group.group3:
                - product.3
                - product.6
        hiddenProductsByAccounts:
            account.level_1.1:
                - product.1
                - product.2
                - product.3
                - product.6
                - product.4
                - product.7
                - product.8
            account.level_1.2:
                - product.7
                - product.8
            account.level_1.2.1:
                - product.7
                - product.8
            account.level_1.3.1:
                - product.3
                - product.6
                - product.4
                - product.7
                - product.8
            account.level_1.3.1.1:
                - product.2
                - product.3
                - product.6
            account.level_1.4:
                - product.3
'change visibility account group to all':
    categoryReference: category_1
    visibility:
        type: accountGroup
        accountGroup: account_group.group3
        visibility: category
    expectedData:
        hiddenCategories:
            - category_1_5_6
            - category_1_5_6_7
        hiddenCategoriesByAccountGroups:
            account_group.group1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
            account_group.group3:
                - category_1_2_3
                - category_1_2_3_4
        hiddenCategoriesByAccounts:
            account.level_1:
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.2.1:
                - category_1_5_6_7
            account.level_1.3.1:
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.3.1.1:
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
        hiddenProducts:
            - product.4
            - product.7
            - product.8
        hiddenProductsByAccountGroups:
            account_group.group2:
                - product.7
                - product.8
            account_group.group3:
                - product.3
                - product.6
        hiddenProductsByAccounts:
            account.level_1.1:
                - product.1
                - product.2
                - product.3
                - product.6
                - product.4
                - product.7
                - product.8
            account.level_1.2:
                - product.7
                - product.8
            account.level_1.2.1:
                - product.7
                - product.8
            account.level_1.3.1:
                - product.3
                - product.6
                - product.4
                - product.7
                - product.8
            account.level_1.3.1.1:
                - product.2
                - product.3
                - product.6
            account.level_1.4:
                - product.3
'change visibility account group to visible':
    categoryReference: category_1
    visibility:
        type: accountGroup
        accountGroup: account_group.group3
        visibility: visible
    expectedData:
        hiddenCategories:
            - category_1_5_6
            - category_1_5_6_7
        hiddenCategoriesByAccountGroups:
            account_group.group1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
            account_group.group3:
                - category_1_2_3
                - category_1_2_3_4
        hiddenCategoriesByAccounts:
            account.level_1:
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.2.1:
                - category_1_5_6_7
            account.level_1.3.1:
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.3.1.1:
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
        hiddenProducts:
            - product.4
            - product.7
            - product.8
        hiddenProductsByAccountGroups:
            account_group.group2:
                - product.7
                - product.8
            account_group.group3:
                - product.3
                - product.6
        hiddenProductsByAccounts:
            account.level_1.1:
                - product.1
                - product.2
                - product.3
                - product.6
                - product.4
                - product.7
                - product.8
            account.level_1.2:
                - product.7
                - product.8
            account.level_1.2.1:
                - product.7
                - product.8
            account.level_1.3.1:
                - product.3
                - product.6
                - product.4
                - product.7
                - product.8
            account.level_1.3.1.1:
                - product.2
                - product.3
                - product.6
            account.level_1.4:
                - product.3
'change visibility account to parent category':
    categoryReference: category_1
    visibility:
        type: account
        account: account.level_1.2.1.1
        visibility: parent_category
    expectedData:
        hiddenCategories:
            - category_1_5_6
            - category_1_5_6_7
        hiddenCategoriesByAccountGroups:
            account_group.group1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
            account_group.group3:
                - category_1_2_3
                - category_1_2_3_4
        hiddenCategoriesByAccounts:
            account.level_1:
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.2.1:
                - category_1_5_6_7
            account.level_1.3.1:
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.3.1.1:
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
        hiddenProducts:
            - product.4
            - product.7
            - product.8
        hiddenProductsByAccountGroups:
            account_group.group2:
                - product.7
                - product.8
            account_group.group3:
                - product.3
                - product.6
        hiddenProductsByAccounts:
            account.level_1.1:
                - product.1
                - product.2
                - product.3
                - product.6
                - product.4
                - product.7
                - product.8
            account.level_1.2:
                - product.7
                - product.8
            account.level_1.2.1:
                - product.7
                - product.8
            account.level_1.3.1:
                - product.3
                - product.6
                - product.4
                - product.7
                - product.8
            account.level_1.3.1.1:
                - product.2
                - product.3
                - product.6
            account.level_1.4:
                - product.3
'change visibility account to hidden':
    categoryReference: category_1
    visibility:
        type: account
        account: account.level_1.2.1.1
        visibility: hidden
    expectedData:
        hiddenCategories:
            - category_1_5_6
            - category_1_5_6_7
        hiddenCategoriesByAccountGroups:
            account_group.group1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
            account_group.group3:
                - category_1_2_3
                - category_1_2_3_4
        hiddenCategoriesByAccounts:
            account.level_1:
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.2.1:
                - category_1_5_6_7
            account.level_1.2.1.1:
                - category_1
                - category_1_5
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.3.1:
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.3.1.1:
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
        hiddenProducts:
            - product.4
            - product.7
            - product.8
        hiddenProductsByAccountGroups:
            account_group.group2:
                - product.7
                - product.8
            account_group.group3:
                - product.3
                - product.6
        hiddenProductsByAccounts:
            account.level_1.1:
                - product.1
                - product.2
                - product.3
                - product.6
                - product.4
                - product.7
                - product.8
            account.level_1.2:
                - product.7
                - product.8
            account.level_1.2.1:
                - product.7
                - product.8
            account.level_1.2.1.1:
                - product.1
                - product.5
                - product.4
                - product.7
                - product.8
            account.level_1.3.1:
                - product.3
                - product.6
                - product.4
                - product.7
                - product.8
            account.level_1.3.1.1:
                - product.2
                - product.3
                - product.6
            account.level_1.4:
                - product.3
'change visibility account to visible':
    categoryReference: category_1_2_3
    visibility:
        type: account
        account: account.level_1.1
        visibility: visible
    expectedData:
        hiddenCategories:
            - category_1_5_6
            - category_1_5_6_7
        hiddenCategoriesByAccountGroups:
            account_group.group1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
            account_group.group3:
                - category_1_2_3
                - category_1_2_3_4
        hiddenCategoriesByAccounts:
            account.level_1:
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.1:
                - category_1
                - category_1_2
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.2.1:
                - category_1_5_6_7
            account.level_1.3.1:
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.3.1.1:
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
        hiddenProducts:
            - product.4
            - product.7
            - product.8
        hiddenProductsByAccountGroups:
            account_group.group2:
                - product.7
                - product.8
            account_group.group3:
                - product.3
                - product.6
        hiddenProductsByAccounts:
            account.level_1.1:
                - product.1
                - product.2
                - product.4
                - product.7
                - product.8
            account.level_1.2:
                - product.7
                - product.8
            account.level_1.2.1:
                - product.7
                - product.8
            account.level_1.3.1:
                - product.3
                - product.6
                - product.4
                - product.7
                - product.8
            account.level_1.3.1.1:
                - product.2
                - product.3
                - product.6
            account.level_1.4:
                - product.3
'change visibility account to all':
    categoryReference: category_1_5_6
    visibility:
        type: account
        account: account.level_1.2.1.1
        visibility: category
    expectedData:
        hiddenCategories:
            - category_1_5_6
            - category_1_5_6_7
        hiddenCategoriesByAccountGroups:
            account_group.group1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
            account_group.group3:
                - category_1_2_3
                - category_1_2_3_4
        hiddenCategoriesByAccounts:
            account.level_1:
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.2.1:
                - category_1_5_6_7
            account.level_1.2.1.1:
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.3.1:
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.3.1.1:
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
        hiddenProducts:
            - product.4
            - product.7
            - product.8
        hiddenProductsByAccountGroups:
            account_group.group2:
                - product.7
                - product.8
            account_group.group3:
                - product.3
                - product.6
        hiddenProductsByAccounts:
            account.level_1.1:
                - product.1
                - product.2
                - product.3
                - product.6
                - product.4
                - product.7
                - product.8
            account.level_1.2:
                - product.7
                - product.8
            account.level_1.2.1:
                - product.7
                - product.8
            account.level_1.2.1.1:
                - product.4
                - product.7
                - product.8
            account.level_1.3.1:
                - product.3
                - product.6
                - product.4
                - product.7
                - product.8
            account.level_1.3.1.1:
                - product.2
                - product.3
                - product.6
            account.level_1.4:
                - product.3
'change visibility account to group':
    categoryReference: category_1_5_6
    visibility:
        type: account
        account: account.level_1.3.1
        visibility: account_group
    expectedData:
        hiddenCategories:
            - category_1_5_6
            - category_1_5_6_7
        hiddenCategoriesByAccountGroups:
            account_group.group1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
            account_group.group3:
                - category_1_2_3
                - category_1_2_3_4
        hiddenCategoriesByAccounts:
            account.level_1:
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
                - category_1_5_6
                - category_1_5_6_7
            account.level_1.2.1:
                - category_1_5_6_7
            account.level_1.3.1:
                - category_1_5_6_7
            account.level_1.3.1.1:
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
        hiddenProducts:
            - product.4
            - product.7
            - product.8
        hiddenProductsByAccountGroups:
            account_group.group2:
                - product.7
                - product.8
            account_group.group3:
                - product.3
                - product.6
        hiddenProductsByAccounts:
            account.level_1.1:
                - product.1
                - product.2
                - product.3
                - product.6
                - product.4
                - product.7
                - product.8
            account.level_1.2:
                - product.7
                - product.8
            account.level_1.2.1:
                - product.7
                - product.8
            account.level_1.3.1:
                - product.3
                - product.6
                - product.4
                - product.7
                - product.8
            account.level_1.3.1.1:
                - product.2
                - product.3
                - product.6
            account.level_1.4:
                - product.3
