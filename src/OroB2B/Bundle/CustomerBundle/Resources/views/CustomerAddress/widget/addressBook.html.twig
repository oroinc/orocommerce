<div class="widget-content">
    {# JS template for address view #}
    {% include "OroB2BCustomerBundle:CustomerAddress/Js:address.js.twig" %}

    {# widget container and actions #}
    <div class="widget-actions">
        {% if address_edit_acl_resource is not defined or resource_granted(address_edit_acl_resource) %}
        <button class="btn btn-mini btn-primary btn-uppercase" type="button" data-action-name="add_address"> + {{ 'Add Address'|trans }}</button>
        {% endif %}
    </div>
         {% set options = {
            wid: app.request.get('_wid'),
            addressListUrl: path('orob2b_api_customer_get_customer_addresses', {customerId: entity.id}),
            addressCreateUrl: path('orob2b_customer_address_create', {customerId: entity.id}),
            addressUpdateRouteName: 'orob2b_customer_address_update',
            addressUpdateParams: {'customerId': entity.id },
            currentAddresses: render(path('orob2b_api_customer_get_customer_addresses', {customerId: entity.id}))
         } %}
    <div class="list-box map-box" id="address-book" data-page-component-module="orob2bcustomer/js/app/components/customer-address-book"
         data-page-component-options="{{ options|json_encode }}"></div>
</div>
