actions:
    orob2b_shoppinglist_action_createorder:
        label: orob2b.shoppinglist.btn.create_order
        enabled: true
        applications:
            - backend
        routes:
            - orob2b_shopping_list_view
        acl_resource: orob2b_order_create
        order: 10
        frontend_options:
            icon: icon-briefcase
        postfunctions:
            - @call_service_method:
                service: orob2b_shopping_list.service.product_data_storage
                method: saveToStorage
                method_parameters: [$.data]
            - @redirect:
                parameters:
                    route: orob2b_order_create
                    route_parameters: {'storage': true}

    orob2b_shoppinglist_frontend_action_createorder:
        label: orob2b.frontend.shoppinglist.btn.create_order
        enabled: true
        applications:
            - frontend
        routes:
            - orob2b_shopping_list_frontend_view
        acl_resource: orob2b_order_frontend_create
        order: 10
        frontend_options:
            icon: icon-briefcase
        postfunctions:
            - @call_service_method:
                service: orob2b_shopping_list.service.product_data_storage
                method: saveToStorage
                method_parameters: [$.data]
            - @redirect:
                parameters:
                    route: orob2b_order_frontend_create
                    route_parameters: {'storage': true}

    orob2b_shoppinglist_frontend_add_to_shoppinglist:
        label: orob2b.shoppinglist.product.add_to_shopping_list.label
        applications: [frontend]
        acl_resource: [CREATE, entity:commerce@OroB2B\Bundle\ShoppingListBundle\Entity\LineItem]
        order: 30
        frontend_options:
            template: OroB2BShoppingListBundle:Action:quickAdd.html.twig
        prefunctions:
            - @call_service_method:
                service: orob2b_shopping_list.processor.quick_add
                method: isAllowed
                attribute: $.isAllowed
            - @call_service_method:
                service: orob2b_shopping_list.shopping_list.manager
                method: getShoppingLists
                attribute: $.params
        preconditions:
            @equal: [true, $.isAllowed]

    orob2b_shoppinglist_frontend_quick_add_to_shoppinglist:
        extends: orob2b_shoppinglist_frontend_add_to_shoppinglist
        routes:
            - orob2b_product_frontend_quick_add
        prefunctions:
            - @assign_value: [$.quickAddComponentPrefix, 'quick-add']

    orob2b_shoppinglist_frontend_quick_add_import_to_shoppinglist:
        extends: orob2b_shoppinglist_frontend_add_to_shoppinglist
        routes:
            - orob2b_product_frontend_quick_add_import
            - orob2b_product_frontend_quick_add_copy_paste
        prefunctions:
            - @assign_value: [$.quickAddComponentPrefix, 'quick-add-import']

    orob2b_shoppinglist_frontend_action_request_quote:
        label: orob2b.frontend.shoppinglist.btn.request_quote_create_rfp
        enabled: true
        applications:
            - frontend
        routes:
            - orob2b_shopping_list_frontend_view
        acl_resource: orob2b_rfp_frontend_request_create
        order: 20
        frontend_options:
            icon: icon-briefcase
        postfunctions:
            - @call_service_method:
                service: orob2b_shopping_list.service.product_data_storage
                method: saveToStorage
                method_parameters: [$.data]
            - @redirect:
                parameters:
                    route: orob2b_rfp_frontend_request_create
                    route_parameters: {'storage': true}
