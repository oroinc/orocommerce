layout:
    actions:
        - '@setBlockTheme':
            themes: 'OroB2BShoppingListBundle:layouts:default/orob2b_product_frontend_product_index/product_index_row.html.twig'
        - '@addTree':
            items:
                add_to_shopping_list_form:
                    blockType: container
                    options:
                        vars:
                            attr_renderer: 'block_attributes_underscore'
                add_to_shopping_list_form_start:
                    blockType: form_start
                    options:
                        form: { '@value': $data.orob2b_shopping_list_frontend_line_item_form }
                add_to_shopping_list_form_fields:
                    blockType: form
                    options:
                        form: { '@value': $data.orob2b_shopping_list_frontend_line_item_form }
                add_to_shopping_list_form_end:
                    blockType: form_end
                    options:
                        form: { '@value': $data.orob2b_shopping_list_frontend_line_item_form }
                add_to_shopping_list_form_button:
                    blockType: block
                    options:
                        vars:
                            shoppingLists: { '@value': $data.orob2b_shopping_list_account_user_shopping_lists.shoppingLists }
            tree:
                product_grid_row_secondary_content_second_container:
                    add_to_shopping_list_form:
                        add_to_shopping_list_form_start: ~
                        add_to_shopping_list_form_fields: ~
                        add_to_shopping_list_form_button: ~
                        add_to_shopping_list_form_end: ~
            conditions:
                '@eq': [{ '@acl': orob2b_shopping_list_line_item_frontend_add }, true]
    conditions:
        '@neq': [ $context.logged_user, null ]